#------------------------------------------------------------------------------#
# This makefile was generated by 'cbp2make' tool rev.156                       #
#------------------------------------------------------------------------------#


WORKDIR = $PWD

CXX = g++
LD = g++




INC = -ISFML-2.1-linux64/include
CFLAGS = -std=c++11
LIBDIR = -LSFML-2.1-linux64/lib
LIB = -lGL -lGLU -lSFML-2.1-linux64/lib/libsfml-audio.so -lSFML-2.1-linux64/lib/libsfml-graphics.so -lSFML-2.1-linux64/lib/libsfml-window.so -lSFML-2.1-linux64/lib/libsfml-system.so -lSFML-2.1-linux64/lib/libsfml-network.so
LDFLAGS =

CXX_SRC = $(wildcard *.cpp)
CXX_OBJ = $(patsubst %.cpp, %.cpp.o, $(CXX_SRC))




CFLAGS_DEBUG = $(CFLAGS) -Wextra -Wall -g
LDFLAGS_DEBUG = $(LDFLAGS)
OBJDIR_DEBUG = obj/debug_l
BINDIR_DEBUG = bin/debug_l
BIN_DEBUG = $(BINDIR_DEBUG)/SFMLTetris_linux64
CXX_OBJ_DEBUG = $(addprefix $(OBJDIR_DEBUG)/,$(CXX_OBJ))

CFLAGS_RELEASE = $(CFLAGS)
LDFLAGS_RELEASE = $(LDFLAGS) -s
OBJDIR_RELEASE = obj/release_l
BINDIR_RELEASE = bin/release_l
BIN_RELEASE = $(BINDIR_RELEASE)/SFMLTetris_linux64
CXX_OBJ_RELEASE = $(addprefix $(OBJDIR_RELEASE)/,$(CXX_OBJ))




clean:
	rm -rf bin
	rm -rf obj




before_debug: 
	mkdir -p $(BINDIR_DEBUG)
	mkdir -p $(OBJDIR_DEBUG)

debug: before_debug $(CXX_OBJ_DEBUG)
	$(LD) $(LDFLAGS_DEBUG) $(LIBDIR) -o $(BIN_DEBUG) $(CXX_OBJ_DEBUG) $(LIB)
	cp res/icone.ico $(BINDIR_DEBUG)/
	mkdir -p $(BINDIR_DEBUG)/res
	cp -r res/common/* $(BINDIR_DEBUG)/res


$(OBJDIR_DEBUG)/%.cpp.o: %.cpp
	$(CXX) $(CFLAGS_DEBUG) $(INC) -c $< -o $@




before_release: 
	mkdir -p $(BINDIR_RELEASE)
	mkdir -p $(OBJDIR_RELEASE)

release: before_release $(OBJ_RELEASE)
	$(LD) $(LDFLAGS_RELEASE) $(LIBDIR) -o $(BIN_RELEASE) $(CXX_OBJ_RELEASE) $(LIB)
	cp res/icone.ico $(BINDIR_DEBUG)/
	mkdir -p $(BINDIR_DEBUG)/res
	cp -r res/common/* $(BINDIR_DEBUG)/res

$(OBJDIR_RELEASE)/%.cpp.o: %.cpp
	$(CXX) $(CFLAGS_RELEASE) $(INC) -c $< -o $@




.PHONY: release
